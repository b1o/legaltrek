<mat-expansion-panel style="position: relative">
	<mat-expansion-panel-header>
		<mat-progress-bar
			mode="indeterminate"
			style="position: absolute; top: 0; left: 0; width: 100%"
			*ngIf="loading"
		></mat-progress-bar>
		<mat-panel-title>
			<ion-badge style="margin-right: 5px">{{ tasks?.length }}</ion-badge>
			Tasks
		</mat-panel-title>
	</mat-expansion-panel-header>

	<ion-list *ngIf="!loading">
		<ion-item-group *ngFor="let task of tasks">
			<ion-item
				style="width: 100%"
				class="item-text-wrap ion-no-padding ion-no-margin"
				[lines]="'none'"
			>
				<div>
					{{ task.priority }}.
					{{ task.created | date: 'dd.M.yyyy':'undefined':'bg_BG' }}
					{{ task.name }}
				</div>
			</ion-item>
			<ion-item class="item-text-wrap ion-no-padding ion-no-margin">
				<strong>{{ task.assigned_to_names }}</strong>
				<app-matter-task-status
					slot="end"
					[status]="task.status"
				></app-matter-task-status>
			</ion-item>
		</ion-item-group>
	</ion-list>
</mat-expansion-panel>
